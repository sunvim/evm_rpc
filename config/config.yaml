chain:
  name: "bsc"
  network_id: 56
  chain_id: 56

server:
  http:
    enabled: true
    listen_addr: "0.0.0.0:8545"
    read_timeout: 30s
    write_timeout: 30s
    idle_timeout: 120s
    max_header_bytes: 1048576
    cors_origins: ["*"]
    vhosts: ["*"]
  
  ws:
    enabled: true
    listen_addr: "0.0.0.0:8546"
    max_connections: 1000
    read_buffer_size: 1024
    write_buffer_size: 1024
  
  health:
    enabled: true
    listen_addr: "0.0.0.0:8080"

storage:
  pika:
    addr: "127.0.0.1:9221"
    password: ""
    db: 0
    max_connections: 500
    dial_timeout: 5s
    read_timeout: 10s
    write_timeout: 10s

cache:
  enabled: true
  block_cache_size: 1000
  tx_cache_size: 5000
  receipt_cache_size: 5000
  balance_cache_size: 10000
  code_cache_size: 1000
  ttl:
    block: 0                # permanent cache
    transaction: 0
    receipt: 0
    balance: 10s            # 10 seconds
    code: 3600s

ratelimit:
  enabled: true
  global:
    requests_per_second: 1000
    burst: 2000
  ip:
    requests_per_second: 100
    burst: 200
  method:
    eth_call: 50
    eth_estimateGas: 50
    eth_getLogs: 10
    eth_sendRawTransaction: 20
    eth_getBalance: 100
    eth_blockNumber: 200

worker_pools:
  query:
    worker_count: 100
    queue_size: 5000
  compute:
    worker_count: 16
    queue_size: 1000
  write:
    worker_count: 20
    queue_size: 1000

evm:
  call_gas_limit: 50000000
  estimate_gas_multiplier: 1.2

api:
  enabled_namespaces:
    - "eth"
    - "net"
    - "web3"
    - "txpool"
  
  disabled_methods:
    - "eth_mining"
    - "eth_hashrate"
    - "eth_getWork"
    - "eth_submitWork"

metrics:
  enabled: true
  listen_addr: "0.0.0.0:9092"

logging:
  level: "info"
  format: "json"
  output: "stdout"
  slow_query_threshold: 1s
